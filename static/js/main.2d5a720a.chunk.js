(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,o){},16:function(t,e,o){},20:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),r=o(8),i=o.n(r),s=(o(14),o(1)),l=o(2),c=o(5),h=o(3),u=o(6),p=(o(16),o(4)),d=o.n(p),b=function t(e){this.current_color=t.BLACK,this.size=e,this.board=this.create_board(e),this.last_move_passed=!1,this.in_atari=!1,this.attempted_suicide=!1,this.history=[],this.captures=[f,m],this.moveCount=0,this.ko=[]},f=[],m=[];b.EMPTY=0,b.BLACK=1,b.WHITE=2,b.prototype.create_board=function(t){for(var e=[],o=0;o<t;o++){e[o]=[];for(var a=0;a<t;a++)e[o][a]=b.EMPTY}return e},b.prototype.reset=function(){this.current_color=b.BLACK,this.board=this.create_board(this.size),this.last_move_passed=!1,this.in_atari=!1,this.attempted_suicide=!1,this.history=[],this.captures=[],this.moveCount=0},b.prototype.switch_player=function(){this.current_color=this.current_color===b.BLACK?b.WHITE:b.BLACK},b.prototype.pass=function(){this.last_move_passed&&this.end_game(),this.last_move_passed=!0,this.switch_player()},b.prototype.undo=function(){if(this.history.length){var t=this.history.pop(),e=t.board,o=t.current_color;this.board=e,this.current_color=o,console.log("board undo",this)}else console.log("no history")},b.prototype.end_game=function(){console.log("GAME OVER")},b.prototype.is_valid_state=function(t){var e=JSON.stringify(this.board);console.log("Im checking if current state is valid",e,t);for(var o=0;this.moveCount>0&&o<t.length;o+=1)if(JSON.stringify(t[o].board)==e)return console.log("INVALIDDDD"),!1;return!0};var v=[],y=[];b.prototype.play=function(t,e){v.push(t),y.push(e),this.moveCount++;var o=this.moveCount,a=this.moveCount-1,n=v[o],r=y[o],i=v[a],s=y[a];if(n==i&&r==s)return console.log("komove"),!1;if(console.log(v),console.log(y),console.log(this.moveCount),console.log("Played at "+t+", "+e),this.attempted_suicide=this.in_atari=!1,this.board[t][e]!==b.EMPTY)return console.log("INVALID MOVE"),!1;var l=this.board[t][e]=this.current_color,c=[],h=this.get_adjacent_intersections(t,e),u=!1,p=this;if(d.a.each(h,function(t){var e=p.board[t[0]][t[1]];if(e!==b.EMPTY&&e!==l){var o=p.get_group(t[0],t[1]);console.log(o),0===o.liberties?c.push(o):1===o.liberties&&(u=!0)}}),d.a.isEmpty(c)&&0===this.get_group(t,e).liberties)return this.board[t][e]=b.EMPTY,this.attempted_suicide=!0,!1;d.a.each(c,function(t){d.a.each(t.stones,function(t){p.board[t[0]][t[1]]=b.EMPTY,1===l?f++:2===l&&m++})});var g=["Captures by Black: "+f,"Captures by White: "+m];f>=1||m>=1?console.log(g):console.log(""),u&&(this.in_atari=!0),this.last_move_passed=!1,this.switch_player();var _={current_color:this.current_color,board:d.a.cloneDeep(p.board)};return this.history.push(_),console.log("history",this.history),!0},b.prototype.get_adjacent_intersections=function(t,e){var o=[];return t>0&&o.push([t-1,e]),e<this.size-1&&o.push([t,e+1]),t<this.size-1&&o.push([t+1,e]),e>0&&o.push([t,e-1]),o},b.prototype.get_group=function(t,e){var o=this.board[t][e];if(o===b.EMPTY)return null;for(var a={},n=[],r=[[t,e]],i=0,s=function(t){var e=h.board[t[0]][t[1]];e===b.EMPTY&&i++,e===o&&r.push([t[0],t[1]])};r.length>0;){var l=r.pop();if(!a[l]){var c=this.get_adjacent_intersections(l[0],l[1]),h=this;d.a.each(c,s),a[l]=!0,n.push(l)}}return{liberties:i,stones:n}};var g=b,_=function(t){function e(){var t,o;Object(s.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).handleClick=function(){o.props.board.play(o.props.row,o.props.col)&&o.props.onPlay()},o}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t={top:40*this.props.row,left:40*this.props.col,backgroundColor:this.props.color!==g.EMPTY?this.props.color===g.BLACK?window._PLAYER_ONE_COLOR:window._PLAYER_TWO_COLOR:void 0},e="intersection";return this.props.color!==g.EMPTY&&(e+=this.props.color===g.BLACK?" black":" white"),n.a.createElement("div",{onClick:this.handleClick,className:e,style:t})}}]),e}(a.Component),E=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){for(var t=[],e=0;e<this.props.board.size;e++)for(var o=0;o<this.props.board.size;o++)t.push(n.a.createElement(_,Object.assign({key:"".concat(e,"-").concat(o)},{board:this.props.board,color:this.props.board.board[e][o],row:e,col:o,onPlay:this.props.onPlay})));var a={width:40*this.props.board.size,height:40*this.props.board.size};return n.a.createElement("div",{style:a,id:"board"},t)}}]),e}(a.Component),O=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t="";return this.props.board.in_atari?t="ATARI":this.props.board.attempted_suicide&&(t="INVALID MOVE"),n.a.createElement("div",{id:"alerts"},t)}}]),e}(a.Component),C=function(t){function e(){var t,o;Object(s.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).handleClick=function(t){o.props.board.pass()},o}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return n.a.createElement("input",{id:"pass-btn",type:"button",value:"Pass",onClick:this.handleClick})}}]),e}(a.Component),w=function(t){function e(){var t,o;Object(s.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).handleClick=function(t){o.props.board.reset(),o.props.onReset()},o}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return n.a.createElement("input",{id:"newgame-btn",type:"button",value:"New Game",onClick:this.handleClick})}}]),e}(a.Component),j=function(t){function e(){var t,o;Object(s.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).undo=function(){console.log("undo...");var t=o.state.history;if(t.length<=1)return window.location.reload(!1),void console.log("nothing to undo");console.log("popping:",t.pop());var e=t[t.length-1];console.log("set board to",e),o.setState({board:e,history:t}),console.log("board was updated and component shall render")},o}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentWillMount",value:function(){this.setState({board:this.props.board,history:[]})}},{key:"onBoardUpdate",value:function(){if(this.state.board.is_valid_state(this.state.history)){var t=this.state.history;t.push(d.a.cloneDeep(this.state.board)),this.setState({board:this.state.board,history:t}),console.log("board was updated and component shall render")}else{console.log("invalid move, reset to prior state");var e=this.state.history[this.state.history.length-1];console.log("set board to",e),this.setState({board:e}),this.moveCount=this.moveCount+1}}},{key:"render",value:function(){return n.a.createElement("div",{className:"ContainerView"},n.a.createElement("div",{className:"ContainerViewBoard"},n.a.createElement(E,{board:this.state.board,onPlay:this.onBoardUpdate.bind(this)})),n.a.createElement("div",{className:"ContainerViewSidebar"},n.a.createElement("a",{href:"https://github.com/L1zz13/G0/"},"Source Code"),n.a.createElement(O,{board:this.state.board}),n.a.createElement(C,{board:this.state.board}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(w,{board:this.state.board,onReset:this.onBoardUpdate.bind(this)}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("button",{onClick:this.undo},"Undo"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("p",null," Player 1 Color:"),n.a.createElement("select",{name:"playerOneColor",onChange:function(t){console.log(t.target.value),window._PLAYER_ONE_COLOR=t.target.value}},n.a.createElement("option",{name:"default",value:"#5632a8"},"default"),n.a.createElement("option",{name:"black",value:"#000000"},"black"),n.a.createElement("option",{name:"red",value:"#ff0000"},"red"),n.a.createElement("option",{name:"blue",value:"#0000ff"},"blue")),n.a.createElement("p",null,"Player 2 Color:"),n.a.createElement("select",{name:"playerTwoColor",onChange:function(t){console.log(t),window._PLAYER_TWO_COLOR=t.target.value}},n.a.createElement("option",{name:"default",value:"#faef5c"},"default"),n.a.createElement("option",{name:"default",value:"#ffffff"},"white"),n.a.createElement("option",{name:"pink",value:"#ffb6c1"},"pink"),n.a.createElement("option",{name:"yellow",value:"#fff000"},"yellow"))))}}]),e}(a.Component),k=new g(19),A=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(j,{board:k}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,o){t.exports=o(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.2d5a720a.chunk.js.map