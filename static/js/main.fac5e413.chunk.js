(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(8),s=a.n(r),i=(a(14),a(1)),l=a(2),c=a(4),u=a(3),p=a(5),h=(a(16),a(6)),d=a.n(h),b=function e(t){this.current_color=e.BLACK,this.size=t,this.board=this.create_board(t),this.last_move_passed=!1,this.in_atari=!1,this.attempted_suicide=!1,this.history=[],this.captures=[],this.capturesArrayBlack=[],this.capturesArrayWhite=[],this.moveCount=0},m=[],g=[];b.EMPTY=0,b.BLACK=1,b.WHITE=2,b.prototype.create_board=function(e){for(var t=[],a=0;a<e;a++){t[a]=[];for(var o=0;o<e;o++)t[a][o]=b.EMPTY}return t},b.prototype.reset=function(){this.current_color=b.BLACK,this.board=this.create_board(this.size),this.last_move_passed=!1,this.in_atari=!1,this.attempted_suicide=!1,this.history=[],this.captures=[],this.moveCount=0},b.prototype.switch_player=function(){this.current_color=this.current_color===b.BLACK?b.WHITE:b.BLACK},b.prototype.pass=function(){this.last_move_passed&&this.end_game(),this.last_move_passed=!0,this.switch_player()},b.prototype.undo=function(){if(this.history.length){var e=this.history.pop(),t=e.board,a=e.current_color;this.board=t,this.current_color=a,console.log("board undo",this)}else console.log("no history")},b.prototype.end_game=function(){console.log("GAME OVER")},b.prototype.is_valid_state=function(e){console.log("history length "+e.length);var t=JSON.stringify(this.board);console.log("Im checking if current state is valid");for(var a=0;this.moveCount>0&&a<e.length;a+=1)if(JSON.stringify(e[a].board)===t)return console.log("INVALIDDDD"),!1;return!0};var v=[],E=[];b.prototype.play=function(e,t){if(v.push(e),E.push(t),this.moveCount++,console.log(this.moveCount),console.log("Played at "+e+", "+t),this.attempted_suicide=this.in_atari=!1,v[v.length-1]===v[v.length-2]&&E[E.length-1]===E[E.length-2])return console.log("ko rule"),!1;if(this.board[e][t]!==b.EMPTY)return console.log("INVALID MOVE"),!1;var a=this.board[e][t]=this.current_color,o=[],n=this.get_adjacent_intersections(e,t),r=!1,s=this;d.a.each(n,function(e){var t=s.board[e[0]][e[1]];if(t!==b.EMPTY&&t!==a){var n=s.get_group(e[0],e[1]);console.log(n),0===n.liberties?o.push(n):1===n.liberties&&(r=!0)}});var i=0,l=0;if(d.a.isEmpty(o)&&0===this.get_group(e,t).liberties)return this.board[e][t]=b.EMPTY,this.attempted_suicide=!0,!1;d.a.each(o,function(e){d.a.each(e.stones,function(e){s.board[e[0]][e[1]]=b.EMPTY,1===a?(m++,i++):2===a&&(g++,l++)})}),this.capturesArrayBlack.push(i),this.capturesArrayWhite.push(l),console.log("Array, ",this.capturesArray);var c=["Captures by Black: "+m,", Captures by White: "+g];console.log(c),r&&(this.in_atari=!0),this.last_move_passed=!1,this.switch_player();var u={current_color:this.current_color,board:d.a.cloneDeep(s.board)};return this.history.push(u),console.log("history",this.history),!0},b.prototype.get_adjacent_intersections=function(e,t){var a=[];return e>0&&a.push([e-1,t]),t<this.size-1&&a.push([e,t+1]),e<this.size-1&&a.push([e+1,t]),t>0&&a.push([e,t-1]),a},b.prototype.get_group=function(e,t){var a=this.board[e][t];if(a===b.EMPTY)return null;for(var o={},n=[],r=[[e,t]],s=0,i=function(e){var t=u.board[e[0]][e[1]];t===b.EMPTY&&s++,t===a&&r.push([e[0],e[1]])};r.length>0;){var l=r.pop();if(!o[l]){var c=this.get_adjacent_intersections(l[0],l[1]),u=this;d.a.each(c,i),o[l]=!0,n.push(l)}}return{liberties:s,stones:n}};var f=b,y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(){a.props.board.play(a.props.row,a.props.col)&&a.props.onPlay()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={top:40*this.props.row,left:40*this.props.col,backgroundColor:this.props.color!==f.EMPTY?this.props.color===f.BLACK?window._PLAYER_ONE_COLOR:window._PLAYER_TWO_COLOR:void 0,backgroundImage:this.props.color!==f.EMPTY?this.props.color===f.BLACK?window._PLAYER_ONE_IMAGE:window._PLAYER_TWO_IMAGE:void 0},t="intersection";return this.props.color!==f.EMPTY&&(t+=this.props.color===f.BLACK?" black":" white"),n.a.createElement("div",{onClick:this.handleClick,className:t,style:e})}}]),t}(o.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.board.size;t++)for(var a=0;a<this.props.board.size;a++)e.push(n.a.createElement(y,Object.assign({key:"".concat(t,"-").concat(a)},{board:this.props.board,color:this.props.board.board[t][a],row:t,col:a,onPlay:this.props.onPlay})));var o={width:40*this.props.board.size,height:40*this.props.board.size};return n.a.createElement("div",{style:o,id:"board"},e)}}]),t}(o.Component),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(e){a.props.board.pass()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("input",{id:"pass-btn",type:"button",value:"Pass",onClick:this.handleClick})}}]),t}(o.Component),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(e){window.location.reload(!1),a.props.board.reset(),a.props.onReset()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("input",{id:"newgame-btn",type:"button",value:"New Game",onClick:this.handleClick})}}]),t}(o.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="Captures by Black: "+this.props.board.capturesArrayBlack.reduce(function(e,t){return e+t},0);return n.a.createElement("div",{id:"alerts"},"\xa0",e,"\xa0")}}]),t}(o.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="Captures by White: "+this.props.board.capturesArrayWhite.reduce(function(e,t){return e+t},0);return n.a.createElement("div",{id:"alerts"},"\xa0",e,"\xa0")}}]),t}(o.Component),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).undo=function(){console.log("undo...");var e=a.state.history;if(e.length<=1)return window.location.reload(!1),void console.log("nothing to undo");console.log("popping:",e.pop());var t=e[e.length-1];console.log("set board to",t),a.setState({board:t,history:e}),a.props.board.capturesArrayBlack.pop(),a.props.board.capturesArrayWhite.pop(),console.log("board was updated and component shall render")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState({board:this.props.board,history:[]})}},{key:"onBoardUpdate",value:function(){if(this.state.board.is_valid_state(this.state.history)){var e=this.state.history;e.push(d.a.cloneDeep(this.state.board)),this.setState({board:this.state.board,history:e}),console.log("board was updated and component shall render")}else{console.log("invalid move, reset to prior state"),console.log(this.state.history.length);var t=this.state.history[this.state.history.length-1];console.log("set board to",t),this.setState({board:t}),this.state.history.pop(),console.log(this.state.history.length)}}},{key:"render",value:function(){return n.a.createElement("div",{className:"ContainerView"},n.a.createElement("div",{className:"ContainerViewBoard"},n.a.createElement(_,{board:this.state.board,onPlay:this.onBoardUpdate.bind(this)})),n.a.createElement("div",{className:"ContainerViewSidebar"},n.a.createElement("a",{href:"https://github.com/L1zz13/G0/"},"Source Code"),n.a.createElement(C,{board:this.state.board}),n.a.createElement(k,{board:this.state.board}),n.a.createElement(O,{board:this.state.board}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(w,{board:this.state.board,onReset:this.onBoardUpdate.bind(this)}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("button",{onClick:this.undo},"Undo"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("p",null,"Select Player 1 Color: ",n.a.createElement("br",null),n.a.createElement("select",{name:"playerOneColor",onChange:function(e){console.log(e.target.value),window._PLAYER_ONE_COLOR=e.target.value}},n.a.createElement("option",{name:"default",value:"#5632a8"},"default"),n.a.createElement("option",{name:"black",value:"#000000"},"black"),n.a.createElement("option",{name:"red",value:"#D0112E"},"red"),n.a.createElement("option",{name:"blue",value:"#4B98F9"},"blue"),n.a.createElement("option",{name:"orange",value:"#FD9D16"},"orange"))),n.a.createElement("p",null,"Select Player 2 Color: ",n.a.createElement("br",null),n.a.createElement("select",{name:"playerTwoColor",onChange:function(e){console.log(e),window._PLAYER_TWO_COLOR=e.target.value}},n.a.createElement("option",{name:"default",value:"#fbfbca"},"default"),n.a.createElement("option",{name:"default",value:"#ffffff"},"white"),n.a.createElement("option",{name:"pale blue",value:"#C1F0FE"},"pale blue"),n.a.createElement("option",{name:"lavender",value:"#E4C2FD"},"lavender"),n.a.createElement("option",{name:"green",value:"#A1FD98"},"green"))),n.a.createElement("p",null,"Select Player 1 Emoji: ",n.a.createElement("br",null),n.a.createElement("select",{name:"playerOneImage",onChange:function(e){console.log(e.target.value),window._PLAYER_ONE_IMAGE=e.target.value}},n.a.createElement("option",{name:"default",value:""},"none"),n.a.createElement("option",{name:"1",value:"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/pusheen-cat-donuts-black-small-2.png')"},"donut pusheen"),n.a.createElement("option",{name:"2",value:"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/pusheen-squid-black-SMALL.png')"},"squid pusheen"),n.a.createElement("option",{name:"3",value:"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/happyface-black-small-3.png')"},"happy face"))," "),n.a.createElement("p",null,"Select Player 2 Emoji: ",n.a.createElement("br",null),n.a.createElement("select",{name:"playerTwoImage",onChange:function(e){console.log(e.target.value),window._PLAYER_TWO_IMAGE=e.target.value}},n.a.createElement("option",{name:"default",value:""},"none"),n.a.createElement("option",{name:"1",value:"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/pusheen-cat-cat-SMOL.png')"},"cat pusheen"),n.a.createElement("option",{name:"2",value:"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/pusheen-art-SMOL.png')"},"art pusheen"),n.a.createElement("option",{name:"3",value:"url('http://pages.kwanzoo.com/rs/358-EUI-570/images/upside-down-happy-SMALL.png')"},"happy face")))))}}]),t}(o.Component),A=new f(19),L=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(j,{board:A}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.fac5e413.chunk.js.map